#dataSources:
#  safecuit_data_0: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_0
#    username: root
#    password:
#  safecuit_data_1: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_1
#    username: root
#    password:
#  safecuit_data_2: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_2
#    username: root
#    password:
#  safecuit_data_3: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_3
#    username: root
#    password:
#  safecuit_data_4: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_4
#    username: root
#    password:
#  safecuit_data_5: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_5
#    username: root
#    password:
#  safecuit_data_6: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_6
#    username: root
#    password:
#  safecuit_data_7: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_7
#    username: root
#    password:
#  safecuit_data_8: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_8
#    username: root
#    password:
#  safecuit_data_9: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_9
#    username: root
#    password:
#  default: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit
#    username: root
#    password:
#
#shardingRule:
#  tables:
#    data_log_current:
#      actualDataNodes: safecuit_data_${0..9}.data_log_current_${0..9}
#      tableStrategy:
#        standard:
#          shardingColumn: date
#          preciseAlgorithmClassName: TableCurrentAlgorithm
#      databaseStrategy:
#        standard:
#          shardingColumn: device_code
#          preciseAlgorithmClassName: DatabaseAlgorithm
#    data_log_leak:
#      actualDataNodes: safecuit_data_${0..9}.data_log_leak_${0..9}
#      tableStrategy:
#        standard:
#          shardingColumn: date
#          preciseAlgorithmClassName: TableLeakAlgorithm
#      databaseStrategy:
#        standard:
#          shardingColumn: device_code
#          preciseAlgorithmClassName: DatabaseAlgorithm
#    data_log_temperature:
#      actualDataNodes: safecuit_data_${0..9}.data_log_temperature_${0..9}
#      tableStrategy:
#        standard:
#          shardingColumn: date
#          preciseAlgorithmClassName: TableTemperatureAlgorithm
#      databaseStrategy:
#        standard:
#          shardingColumn: device_code
#          preciseAlgorithmClassName: DatabaseAlgorithm
#  defaultDataSourceName: default


#
#dataSources:
#  safecuit_data_0: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_0
#    username: root
#    password:
#  safecuit_data_1: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit_data_1
#    username: root
#    password:
#
#shardingRule:
#  tables:
#    t_order:
#      actualDataNodes: safecuit_data_0.t_order_000${0..1},safecuit_data_1.t_order_000${0..1}
#      tableStrategy:
#        standard:
#          shardingColumn: order_id
#          preciseAlgorithmClassName: TableAlgorithm
#      databaseStrategy:
#        standard:
#          shardingColumn: order_id
#          preciseAlgorithmClassName: DBAlgorithm
#
#dataSources:
#  defray_01: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/defray_01
#    username: root
#    password:
#  defray_02: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/defray_02
#    username: root
#    password:
#
#shardingRule:
#  tables:
#    defray_order:
#      actualDataNodes: defray_01.defray_order_000${0..9},defray_01.defray_order_00${10..99},defray_01.defray_order_0${100..199},defray_02.defray_order_0${200..399}
#      tableStrategy:
#        standard:
#          shardingColumn: order_id
#          preciseAlgorithmClassName: TableAlgorithm
#      databaseStrategy:
#        standard:
#          shardingColumn: order_id
#          preciseAlgorithmClassName: DBAlgorithm

dataSources:
  ds_0: !!org.apache.commons.dbcp2.BasicDataSource
    driverClassName: com.mysql.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/demo_ds_0
    username: root
    password:
  ds_1: !!org.apache.commons.dbcp2.BasicDataSource
    driverClassName: com.mysql.jdbc.Driver
    url: jdbc:mysql://127.0.0.1:3306/demo_ds_1
    username: root
    password:
#  default: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit
#    username: root
#    password:

#shardingRule:
#  tables:
#    t_order:
#      actualDataNodes: ds_${0..1}.t_order_${0..1}
#      tableStrategy:
#        hint:
#          algorithmClassName: io.shardingsphere.shardingjdbc.yaml.userAlgo.HintAlgorithm
#      keyGeneratorColumnName: order_id
#    t_order_item:
#      actualDataNodes: ds_${0..1}.t_order_item_${0..1}
#      tableStrategy:
#        inline:
#          shardingColumn: order_id
#          algorithmExpression: t_order_item_${order_id % 2}
#      keyGeneratorColumnName: order_item_id
#  bindingTables:
#    - t_order,t_order_item
#  defaultDataSourceName: ds_1
#  defaultDatabaseStrategy:
#    inline:
#      shardingColumn: user_id
#      algorithmExpression: ds_${user_id % 2}
#  defaultTableStrategy:
#    none:
#  defaultKeyGeneratorClassName: io.shardingsphere.core.keygen.DefaultKeyGenerator
##  defaultDataSourceName: default
#props:
#  sql.show: true


#
#dataSources:
#  ds_0: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/demo_ds_0
#    username: root
#    password:
#  ds_1: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/demo_ds_1
#    username: root
#    password:
#  default: !!org.apache.commons.dbcp2.BasicDataSource
#    driverClassName: com.mysql.jdbc.Driver
#    url: jdbc:mysql://127.0.0.1:3306/safecuit
#    username: root
#    password:

shardingRule:
  tables:
    t_order:
      actualDataNodes: ds_${0..1}.t_order_${0..1}
      tableStrategy:
        inline:
          shardingColumn: order_id
          algorithmExpression: t_order_${order_id % 2}
      keyGeneratorColumnName: order_id
    t_order_item:
      actualDataNodes: ds_${0..1}.t_order_item_${0..1}
      tableStrategy:
        inline:
          shardingColumn: order_id
          algorithmExpression: t_order_item_${order_id % 2}
      keyGeneratorColumnName: order_item_id
  bindingTables:
    - t_order,t_order_item
  defaultDataSourceName: ds_1
  defaultDatabaseStrategy:
    inline:
      shardingColumn: user_id
      algorithmExpression: ds_${user_id % 2}
  defaultTableStrategy:
    none:
  defaultKeyGeneratorClassName: io.shardingsphere.core.keygen.DefaultKeyGenerator
#  defaultDataSourceName: default
props:
  sql.show: true

#
#orchestration:
#  name: user_test
#  type: SHARDING
#  overwrite: true
#  zookeeper:
#    namespace: orche_user_test
#    serverLists: localhost:2181